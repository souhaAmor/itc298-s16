<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<form method="POST" action="/search">
    <input type="text" name="task" placeholder="task">
    <button>Search</button>
    <button>New Task</button>
</form>
<hr>
<table>
    <tr>
        <th>Task</th>
        <th>Description</th>
     
    </tr>    
{{#each tasks}}
    <tr onclick="javascript:editTask(this);">
        <td>{{task}}</td>
        <td>{{description}}</td>
      
    </tr>
{{/each}}
</table>


<script>
    $(document).ready(function(){
        var buttons = $('button');
        
        buttons.on('click', function() {
            var $this = $(this);
            var action = $this.text().toLowerCase();
            if (action == 'new task') {
                $("form").attr("action", "#");
                location.href = "/detail/";
            } else {
                $("form").attr("action", action);
            }
        });
    });
    
    function editTask(row) {
        var task = $(row).children().first().text();
        location.href = "/detail/" + task;
    }
    
</script>
</body>
